$(document).ready(function(){$("#btn-bars").on("click",function(){$("#header-mobile").toggleClass("open-menu");});$("#menu-mobile-mask, .btn-close").on("click",function(){$("#header-mobile").removeClass("open-menu");});$("#search-info").on("click",function(){$("#header-mobile").toggleClass("open-menu");});$("#search-info, .btn-close").on("click",function(){$("#header-mobile").removeClass("open-menu");});$(document).on('submit','form',function(e){$('input[type="submit"], button[type="submit"]').prop('disabled',true);});$(document).on('click','#site-register, #site-accounts',function(e){let load=`<img src="/res/images/loading3.gif">`;$('#load1').html(load);});$(document).on('click','#checkout1',function(e){let load=`<img src="/res/images/loading3.gif">`;$('#load1').html(load);});$(document).on('click','#checkout2',function(e){let load=`<img src="/res/images/loading3.gif">`;$('#load2').html(load);});$(document).on('click','#checkout3',function(e){let load=`<img src="/res/images/loading3.gif">`;$('#load3').html(load);});$(document).on('click','#checkout6',function(e){let load=`<img src="/res/images/loading3.gif">`;$('#load6').html(load);});$(document).on('click','#checkout4',function(e){let load=`<img src="/res/images/loading3.gif">`;$('#load4').html(load);});$(document).on('click','#checkout5',function(e){let load=`<img src="/res/images/loading3.gif">`;$('#load5').html(load);});var tx=document.getElementsByTagName('textarea');for(var i=0;i<tx.length;i++){tx[i].setAttribute('style','height:'+(tx[i].scrollHeight)+'px;overflow-y:hidden;');tx[i].addEventListener("input",OnInput,false);}
function OnInput(){this.style.height='auto';this.style.height=(this.scrollHeight)+'px';}
$('#sort-by').on('change',function(){this.form.submit();});$(function(){$('[data-toggle="popover"]').popover()});$(document).on('mouseleave','#popover-template',function(e){$('[data-toggle="popover"]').popover('hide');});$(document).on('mouseleave','#popover-template-mobile',function(e){$('[data-toggle="popover"]').popover('hide');});$(document).on('mouseleave','#popover-template2',function(e){$('[data-toggle="popover"]').popover('hide');});$(document).on('mouseleave','#popover-template3',function(e){$('[data-toggle="popover"]').popover('hide');});$(document).on('mouseleave','#search-info',function(e){$('[data-toggle="popover"]').popover('hide');});$(document).on('mouseleave','#search-info',function(e){$('[data-toggle="popover"]').popover('hide');});$(document).on('mouseleave','#popover1',function(e){$('[data-toggle="popover"]').popover('hide');});$(document).on('mouseleave','#popover2',function(e){$('[data-toggle="popover"]').popover('hide');});$(document).on('click','#mailing-submit',function(e){e.preventDefault();$('#mailing-alert').html('');let name=$("#mailing-form input[type=text][name=name]").val();let email=$("#mailing-form input[type=email][name=email]").val();let load=`<img src="/res/images/loading3.gif">`;$('#mailing-load').html(load);$.ajax({type:"GET",data:{'name':name,'email':email},url:"/news"}).done(function(data){let html=`<div class="alert alert-info alert-dismissible fade show" role="alert">
						`+data+`
					    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
					        <span aria-hidden="true">&times;</span>
					    </button>
					</div>
					`;$('#mailing-load').html('');$("#mailing-form input[type=text][name=name]").val('');$("#mailing-form input[type=email][name=email]").val('');$('#mailing-alert').html(html);}).fail(function(data){console.error(data);let html=`<div class="alert alert-danger alert-dismissible fade show" role="alert">
					    `+data+`
					    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
					        <span aria-hidden="true">&times;</span>
					    </button>
					</div>
					`;$('#mailing-load').html('');$("#mailing-form input[type=text][name=name]").val('');$("#mailing-form input[type=email][name=email]").val('');$('#mailing-alert').html(html);});});$(document).on('click','#domain-dropdown-button',function(){$('#domain-dropdown').addClass('show');$('#domain-dropdown-menu').addClass('show');});$(document).on('mouseleave','#domain-dropdown-menu',function(){$('#domain-dropdown').removeClass('show');$('#domain-dropdown-menu').removeClass('show');});$(document).on('click','#categories-button',function(){$('#categories').addClass('show');$('#categories-menu').addClass('show');});$(document).on('mouseleave','#categories-menu',function(){$('#categories').removeClass('show');$('#categories-menu').removeClass('show');});$(document).on('change','#desborderimagesize',function(){let value=$(this).val();$('#border-size').html(value);});$(document).on('change','#desborderradiusbutton',function(){let radius=$(this).val();$('#border-radius').html(radius);});$(document).on('click','#thumb1',function(){$('#template1').attr('checked',true);$('#template1').prop('checked',true);$(this).addClass('checked');$('#thumb2').removeClass('checked');$('#template2').attr('checked',false);$('#thumb3').removeClass('checked');$('#template3').attr('checked',false);$('#thumb4').removeClass('checked');$('#template4').attr('checked',false);$('#thumb5').removeClass('checked');$('#template5').attr('checked',false);$('#preview').html('<img src="/res/images/template/thumb/tpl1.jpg">');$('#preview-button').html('<button type="button" class="btn btn-secondary" data-toggle="modal" data-target="#ModalTemplate">Template Rainbow</button>');$(".alert").alert('close');$('#ModalTemplate').modal('hide');});$(document).on('click','#thumb2',function(){$('#template2').attr('checked',true);$('#template2').prop('checked',true);$(this).addClass('checked');$('#thumb1').removeClass('checked');$('#template1').attr('checked',false);$('#thumb3').removeClass('checked');$('#template3').attr('checked',false);$('#thumb4').removeClass('checked');$('#template4').attr('checked',false);$('#thumb5').removeClass('checked');$('#template5').attr('checked',false);$('#preview').html('<img src="/res/images/template/thumb/tpl2.jpg">');$('#preview-button').html('<button type="button" class="btn btn-secondary" data-toggle="modal" data-target="#ModalTemplate">Template Freedom</button>');$(".alert").alert('close');$('#ModalTemplate').modal('hide');});$(document).on('click','#thumb3',function(){$('#template3').attr('checked',true);$('#template3').prop('checked',true);$(this).addClass('checked');$('#thumb1').removeClass('checked');$('#template1').attr('checked',false);$('#thumb2').removeClass('checked');$('#template2').attr('checked',false);$('#thumb4').removeClass('checked');$('#template4').attr('checked',false);$('#thumb5').removeClass('checked');$('#template5').attr('checked',false);$('#preview').html('<img src="/res/images/template/thumb/tpl3.jpg">');$('#preview-button').html('<button type="button" class="btn btn-secondary" data-toggle="modal" data-target="#ModalTemplate">Template Gold</button>');$(".alert").alert('close');$('#ModalTemplate').modal('hide');});$(document).on('click','#thumb4',function(){$('#template4').attr('checked',true);$('#template4').prop('checked',true);$(this).addClass('checked');$('#thumb1').removeClass('checked');$('#template1').attr('checked',false);$('#thumb3').removeClass('checked');$('#template3').attr('checked',false);$('#thumb2').removeClass('checked');$('#template2').attr('checked',false);$('#thumb5').removeClass('checked');$('#template5').attr('checked',false);$('#preview').html('<img src="/res/images/template/thumb/tpl4.jpg">');$('#preview-button').html('<button type="button" class="btn btn-secondary" data-toggle="modal" data-target="#ModalTemplate">Template Hot</button>');$(".alert").alert('close');$('#ModalTemplate').modal('hide');});$(document).on('click','#thumb5',function(){$('#template5').attr('checked',true);$('#template5').prop('checked',true);$(this).addClass('checked');$('#thumb1').removeClass('checked');$('#template1').attr('checked',false);$('#thumb3').removeClass('checked');$('#template3').attr('checked',false);$('#thumb4').removeClass('checked');$('#template4').attr('checked',false);$('#thumb2').removeClass('checked');$('#template2').attr('checked',false);$('#preview').html('<img src="/res/images/template/thumb/tpl5.jpg">');$('#preview-button').html('<button type="button" class="btn btn-secondary" data-toggle="modal" data-target="#ModalTemplate">Template Lovers</button>');$(".alert").alert('close');$('#ModalTemplate').modal('hide');});$(document).on('click','#preview img',function(){$('#ModalTemplate').modal('show');});$(document).on('change','#desfontfamily1, #desfontfamily2',function(){let fontfamily=$("option:selected",this).attr('data-fontfamily');$(this).css("font-family",fontfamily);});$('#plan1').on('change',function(){let vlprice=$("option:selected",this).attr('data-vlprice');$('#plan1-vlprice').html('R$ '+vlprice.replace('.',','));let vlinteger=$("option:selected",this).attr('data-vlinteger');$('#plan1-vlinteger').html(vlinteger);let vldecimal=$("option:selected",this).attr('data-vldecimal');$('#plan1-vldecimal').html(','+vldecimal);});$('#plan2').on('change',function(){let vlprice=$("option:selected",this).attr('data-vlprice');$('#plan2-vlprice').html('R$ '+vlprice.replace('.',','));let vlinteger=$("option:selected",this).attr('data-vlinteger');$('#plan2-vlinteger').html(vlinteger);let vldecimal=$("option:selected",this).attr('data-vldecimal');$('#plan2-vldecimal').html(','+vldecimal);});$('#plan3').on('change',function(){let vlprice=$("option:selected",this).attr('data-vlprice');$('#plan3-vlprice').html('R$ '+vlprice.replace('.',','));let vlinteger=$("option:selected",this).attr('data-vlinteger');$('#plan3-vlinteger').html(vlinteger);let vldecimal=$("option:selected",this).attr('data-vldecimal');$('#plan3-vldecimal').html(','+vldecimal);});$(document).on('change','#state',function(e){var idstate=$(this).val();$.ajax({type:"GET",data:"idstate="+idstate,url:"/address/state"}).done(function(data){var city='';console.log(data);$.each($.parseJSON(data),function(key,value){city+='<option value="'+value.idcity+'">'+value.descity+'</option>';});$('#city').html(city);}).fail(function(data){console.error("Houve um erro no carregamento das cidades devido a uma lentidão na internet, tente novamente");});});$(function(){$('#file').change(function(){let file=$(this)[0].files[0];let fileReader=new FileReader();fileReader.onloadend=function(){$('#image-preview').attr('src',fileReader.result);}
fileReader.readAsDataURL(file);});});});